- unless codes.empty?

  - if @error_message
    .coding_flash
      %div.error
        = @error_message

  %p= link_to "Copy this #{coding_type} to the corresponding #{coding_type.gsub(/Budget/, "Spend")}", copy_budget_to_spend_activity_coding_path(activity, :coding_type => coding_type), :method => :put, :confirm => "This will overwrite ALL the expenditure codes for #{coding_type}. This operation cannot be undone. Are you sure?"

  - form_for activity, :url => activity_coding_path(activity, :coding_type => coding_type), :method => :put, :html => {:id => ''} do |form|
    %ul.activity_tree
      - codes.each do |code|
        = render 'code_row', { :code => code, :form => form, :tab => tab }
    = submit_tag 'Save', :class => 'submit_btn'

= render 'shared/data_entry_help', :record_type => CodeAssignment
